function classtweak(a,b,c){function f(b){for(var c=a.length;c--;){var g=a[c],h=g.className?g.className.split(/\s+/).sort():[],i;typeof b=="string"&&(b=b.split(d));for(i=b.length;i--;){var j=b[i],k=j.slice(0,1),l=j.slice(-1),m=j.slice(1),n=e[k],o=k=="."||l==".",p,q=-1;n||(o?(n=e[k=="."&&l=="."?"!":k=="."?"+":"-"],m=j.slice(k=="."?1:0,l=="."?-1:undefined)):(n=e["+"],m=b[i]));for(p=h.length;q<0&&p--;)h[p]===m&&(q=p);n(h,m,q)}g.className=h.join(" ")}return f}if(!a)return undefined;var d=/[\s\,]+/,e={"+":function(a,b,c){c<0&&(a[a.length]=b)},"-":function(a,b,c){c>=0&&a.splice(c,1)},"!":function(a,b,c){e[c<0?"+":"-"](a,b,c)}};return typeof a=="string"||a instanceof String?a=typeof qsa=="function"?qsa(a,c):(c||document).querySelectorAll(a):a.splice||(a=[a]),b&&f(b),b?classtweak:f}(function(a){var b="0.3.4",c="hasOwnProperty",d=/[\.\/]/,e="*",f=function(){},g=function(a,b){return a-b},h,i,j={n:{}},k=function(a,b){var c=j,d=i,e=Array.prototype.slice.call(arguments,2),f=k.listeners(a),l=0,m=!1,n,o=[],p={},q=[],r=h,s=[];h=a,i=0;for(var t=0,u=f.length;t<u;t++)"zIndex"in f[t]&&(o.push(f[t].zIndex),f[t].zIndex<0&&(p[f[t].zIndex]=f[t]));o.sort(g);while(o[l]<0){n=p[o[l++]],q.push(n.apply(b,e));if(i)return i=d,q}for(t=0;t<u;t++){n=f[t];if("zIndex"in n)if(n.zIndex==o[l]){q.push(n.apply(b,e));if(i)break;do{l++,n=p[o[l]],n&&q.push(n.apply(b,e));if(i)break}while(n)}else p[n.zIndex]=n;else{q.push(n.apply(b,e));if(i)break}}return i=d,h=r,q.length?q:null};k.listeners=function(a){var b=a.split(d),c=j,f,g,h,i,k,l,m,n,o=[c],p=[];for(i=0,k=b.length;i<k;i++){n=[];for(l=0,m=o.length;l<m;l++){c=o[l].n,g=[c[b[i]],c[e]],h=2;while(h--)f=g[h],f&&(n.push(f),p=p.concat(f.f||[]))}o=n}return p},k.on=function(a,b){var c=a.split(d),e=j;for(var g=0,h=c.length;g<h;g++)e=e.n,!e[c[g]]&&(e[c[g]]={n:{}}),e=e[c[g]];e.f=e.f||[];for(g=0,h=e.f.length;g<h;g++)if(e.f[g]==b)return f;return e.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){i=1},k.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(h):h},k.unbind=function(a,b){var f=a.split(d),g,h,i,k,l,m,n,o=[j];for(k=0,l=f.length;k<l;k++)for(m=0;m<o.length;m+=i.length-2){i=[m,1],g=o[m].n;if(f[k]!=e)g[f[k]]&&i.push(g[f[k]]);else for(h in g)g[c](h)&&i.push(g[h]);o.splice.apply(o,i)}for(k=0,l=o.length;k<l;k++){g=o[k];while(g.n){if(b){if(g.f){for(m=0,n=g.f.length;m<n;m++)if(g.f[m]==b){g.f.splice(m,1);break}!g.f.length&&delete g.f}for(h in g.n)if(g.n[c](h)&&g.n[h].f){var p=g.n[h].f;for(m=0,n=p.length;m<n;m++)if(p[m]==b){p.splice(m,1);break}!p.length&&delete g.n[h].f}}else{delete g.f;for(h in g.n)g.n[c](h)&&g.n[h].f&&delete g.n[h].f}g=g.n}}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);return k.unbind(a,c),d};return k.on(a,c)},k.version=b,k.toString=function(){return"You are running Eve "+b},typeof module!="undefined"&&module.exports?module.exports=k:typeof define!="undefined"?define("eve",[],function(){return k}):a.eve=k})(this),function(a){a(function(){function d(){}function e(a){return new Array(a)}function f(){}function g(){function p(a,b,c){return m(a,b,c)}function q(a){o("resolve",a)}function r(a){o("reject",a)}function s(a){n(a)}function t(a){var b,d,e,f,g,l=0;g=k,k=[];while(b=g[l++]){d=b.deferred,f=b[a];try{e=f?f(j):j,h(e)?i(e,d.resolve,d.reject,d.progress):d[a](e===c?j:e)}catch(m){d.reject(m)}}}var b,d,e,j,k,l,m,n,o;return k=[],l=[],m=function(b,c,d){var e,f,h=arguments.length;while(h){e=arguments[--h];if(e!=null&&typeof e!="function")throw new Error("callback is not a function")}return f=g(),k.push({deferred:f,resolve:b,reject:c}),d&&l.push(d),f.promise},n=function(a){var b,c=0;while(b=l[c++])b(a)},o=function(a,b){var d=m;m=function(c,e){var f=d(c,e);return t(a),f},o=n=function(){throw new Error("already completed")},l=c,j=b,t(a)},b={},d=new f,d.then=b.then=p,b.promise=a(d),e=b.resolver=a({resolve:b.resolve=q,reject:b.reject=r,progress:b.progress=s}),b}function h(a){return a&&typeof a.then=="function"}function i(a,b,c,d){var e=j(a);return e.then(b,c,d)}function j(a){var b,c;return a instanceof f?b=a:(c=g(),h(a)?a.then(c.resolve,c.reject,c.progress):c.resolve(a),b=c.promise),b}function k(a,b,c,e,f){function r(a){m(a)}function s(a){n(a)}function t(a){o(a)}function u(){m=n=o=d}var h,j,k,l,m,n,o,p,q;p=a.length>>>0,h=Math.max(0,Math.min(b,p)),j=[],l=g(),k=i(l,c,e,f);if(!h)l.resolve(j);else{m=function(a){j.push(a),--h||(u(),l.resolve(j))},n=function(a){u(),l.reject(a)},o=l.progress;for(q=0;q<p;++q)q in a&&i(a[q],r,s,t)}return k}function l(a,b,c,d){var f,g;return f=e(a.length),g=p(a,m,f),i(g,b,c,d)}function m(a,b,c){return a[c]=b,a}function n(a,b,c,d){function e(a){return b(a[0])}return k(a,1,e,c,d)}function o(a,b){var c,d;d=a.length,c=e(d);for(;d>=0;--d)d in a&&(c[d]=i(a[d],b));return p(c,m,c)}function p(a,c,d){var e,f;return e=a.length,f=[function(a,b,d){return i(a,function(a){return i(b,function(b){return c(a,b,d,e)})})}],arguments.length>=3&&f.push(d),j(b.apply(a,f))}function q(a,b,c){var d=arguments.length>2;return i(a,function(a){b.resolve(d?c:a)},b.reject,b.progress)}var a,b,c;return a=Object.freeze||function(a){return a},b=[].reduce||function(a){var b,c,d,e,f;f=0,b=Object(this),e=b.length>>>0,c=arguments;if(c.length<=1)for(;;){if(f in b){d=b[f++];break}if(++f>=e)throw new TypeError}else d=c[1];for(;f<e;++f)f in b&&(d=a(d,b[f],f,b));return d},i.defer=g,i.isPromise=h,i.some=k,i.all=l,i.any=n,i.reduce=p,i.map=o,i.chain=q,i})}(typeof define=="function"?define:function(a){typeof module!="undefined"?module.exports=a():this.when=a()});var Flipper=function(a,b){function j(){var b=a.querySelector(".p-active")||a.querySelector('[data-route="/"]')||a.querySelector("section")||a.querySelector(".flipper .section");return{data:{},element:b}}function k(a){for(var b=0;b<i.length;b++)if(i[b].regex.test(a))return i[b];return undefined}function l(a){var b=a.target||a.srcElement,c;while(b instanceof Text)b=b.parentNode;c=o(b),c.route&&(a.preventDefault(),(!d||d.path!==c.path)&&r(c.path,a))}function m(){var d,f,g,i,j;if(typeof a=="string"||a instanceof String)a=document.querySelector("#"+a.replace(h,""));a=a||document.body;if(a.id)for(d in e)e[d]+="."+a.id;f=a.querySelectorAll("*[data-route]");for(g=0;g<f.length;g++)n(f[g]);j=b.multi?a:document.body,j.addEventListener("touchstart",l,!1),j.addEventListener("click",l,!1),classtweak(a,"+flipper"),a===document.body&&classtweak(a.parentNode,"+flipper"),eve(e.init,c,a),r(),setTimeout(function(){classtweak(a,"+p-ready")},10)}function n(b){var d=b.getAttribute("data-route"),e={},f=b.dataset,h,j;if(d===""||d==="/")d="home";f||(f=b.attribiutes);for(h in f)if(!g||g.test(h))e[h]=f[h];a.id&&(e.appid=a.id),i.push(j={data:e,path:d,regex:new RegExp("^"+d),element:b,container:a}),eve.on(d+(a.id?"."+a.id:""),function(){return this===c})}function o(b){var e=!1,g,h;if(b&&b.href){g=b?b.getAttribute("href")||"home":"",e=d&&d.path===g;if(!e){h=eve(g+(a.id?"."+a.id:""),c,b.href),f=[],e=h&&h.length;for(var i=0;e&&i<h.length;i++)typeof h[i]!="undefined"&&(e=e&&h[i],f.push(h[i]))}}return{route:e,path:g}}function p(a){}function q(a,b,c){var d=!0;for(var e=0;a&&e<a.length;e++)d=d&&(typeof a[e]=="undefined"||a[e]),d&&typeof a[e]!="undefined"&&f.push(a[e]);d&&when.all([].concat(f),b,c)}function r(b,f){var g=k(b)||j(),h=g.data||{};g&&g.element&&q(eve(e.activating,c,g,d,f),function(){classtweak("section, .section","-p-active",a)(g.element,"+p-active"),document.title=h.title||document.title,eve(e.change,c,g,d,f),p(g.element),d=g})}b=b||{},b.title=b.title||"Untitled App";var c,d,e={activating:"flipper.activating",change:"flipper.change",init:"flipper.init"},f=[],g=/^data\-/i,h=/^\#/,i=[];return c={activate:r},m(),c};(function(){eve.on("flipper.change",function(a,b){a&&a.container&&a.path&&$('.navbar a[href="'+a.path+'"]',a.container).each(function(){$(this).parent("li").siblings("li").removeClass("active"),$(this).parent("li").addClass("active")})})})(),function(){if(typeof Modernizr!="undefined"){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"msTransitionEnd",transition:"transitionEnd"},b=a[Modernizr.prefixed("transition")];window.addEventListener(b,function(a){classtweak(a.target,"-p-in -p-out")},!1)}eve.on("flipper.change",function(a,b){b&&b!==a&&(classtweak(a.element,"+p-in -p-out"),classtweak(b.element,"-p-in +p-out"))})}()