// ┌──────────────────────────────────────────────────────────────────────────────────────┐ \\
// │ Eve 0.3.2 - JavaScript Events Library                                                │ \\
// ├──────────────────────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)          │ \\
// │ Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license. │ \\
// └──────────────────────────────────────────────────────────────────────────────────────┘ \\
function classtweak(a,b,c){function f(b){for(var c=a.length;c--;){var f=a[c],g=f.className?f.className.split(/\s+/).sort():[],h;typeof b=="string"&&(b=b.split(d));for(h=b.length;h--;){var i=b[h],j=i.slice(0,1),k=i.slice(-1),l=i.slice(1),m=e[j],n=j=="."||k==".",o,p=-1;m||(n?(m=e[j=="."&&k=="."?"!":j=="."?"+":"-"],l=i.slice(j=="."?1:0,k=="."?-1:undefined)):(m=e["+"],l=b[h]));for(o=g.length;p<0&&o--;)g[o]===l&&(p=o);m(g,l,p)}f.className=g.join(" ")}}var d=/[\s\,]+/,e={"+":function(a,b,c){c<0&&(a[a.length]=b)},"-":function(a,b,c){c>=0&&a.splice(c,1)},"!":function(a,b,c){e[c<0?"+":"-"](a,b,c)}};return typeof a=="string"||a instanceof String?a=(c||document).querySelectorAll(a):Array.isArray(a)||(a=[a]),b&&f(b),f}(function(a){var b="0.3.2",c="hasOwnProperty",d=/[\.\/]/,e="*",f=function(){},g=function(a,b){return a-b},h,i,j={n:{}},k=function(a,b){var c=j,d=i,e=Array.prototype.slice.call(arguments,2),f=k.listeners(a),l=0,m=!1,n,o=[],p={},q=[],r=[];h=a,i=0;for(var s=0,t=f.length;s<t;s++)"zIndex"in f[s]&&(o.push(f[s].zIndex),f[s].zIndex<0&&(p[f[s].zIndex]=f[s]));o.sort(g);while(o[l]<0){n=p[o[l++]],q.push(n.apply(b,e));if(i)return i=d,q}for(s=0;s<t;s++){n=f[s];if("zIndex"in n)if(n.zIndex==o[l]){q.push(n.apply(b,e));if(i)return i=d,q;do{l++,n=p[o[l]],n&&q.push(n.apply(b,e));if(i)return i=d,q}while(n)}else p[n.zIndex]=n;else{q.push(n.apply(b,e));if(i)return i=d,q}}return i=d,q.length?q:null};k.listeners=function(a){var b=a.split(d),c=j,f,g,h,i,k,l,m,n,o=[c],p=[];for(i=0,k=b.length;i<k;i++){n=[];for(l=0,m=o.length;l<m;l++){c=o[l].n,g=[c[b[i]],c[e]],h=2;while(h--)f=g[h],f&&(n.push(f),p=p.concat(f.f||[]))}o=n}return p},k.on=function(a,b){var c=a.split(d),e=j;for(var g=0,h=c.length;g<h;g++)e=e.n,!e[c[g]]&&(e[c[g]]={n:{}}),e=e[c[g]];e.f=e.f||[];for(g=0,h=e.f.length;g<h;g++)if(e.f[g]==b)return f;return e.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){i=1},k.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(h):h},k.unbind=function(a,b){var f=a.split(d),g,h,i,k=[j];for(var l=0,m=f.length;l<m;l++)for(var n=0;n<k.length;n+=i.length-2){i=[n,1],g=k[n].n;if(f[l]!=e)g[f[l]]&&i.push(g[f[l]]);else for(h in g)g[c](h)&&i.push(g[h]);k.splice.apply(k,i)}for(l=0,m=k.length;l<m;l++){g=k[l];while(g.n){if(b){if(g.f){for(n=0,jj=g.f.length;n<jj;n++)if(g.f[n]==b){g.f.splice(n,1);break}!g.f.length&&delete g.f}for(h in g.n)if(g.n[c](h)&&g.n[h].f){var o=g.n[h].f;for(n=0,jj=o.length;n<jj;n++)if(o[n]==b){o.splice(n,1);break}!o.length&&delete g.n[h].f}}else{delete g.f;for(h in g.n)g.n[c](h)&&g.n[h].f&&delete g.n[h].f}g=g.n}}},k.version=b,k.toString=function(){return"You are running Eve "+b},typeof module!="undefined"&&module.exports?module.exports=k:a.eve=k})(this);var Mobicore=function(){function a(a,b){if(typeof a=="string"||a instanceof String)a=document.querySelector("#"+a);if(!a||!a.querySelector)throw new Error("A containing element is required to create a new app");b=b||{},b.title=b.title||"Untitled App",this.container=a,this.id=a.id||"mobicore-"+(new Date).getTime(),this.storage={},this.init()}function b(a){return function(){eve.apply(eve,[a].concat(Array.prototype.slice.call(arguments,0)))}}return a.prototype.activate=function(a){classtweak("section","-mc-active",this.container),classtweak(a,"+mc-active")},a.prototype.data=function(a,b){return typeof b=="undefined"?this.storage[a]:(this.storage[a]={value:b,updated:(new Date).getTime()},eve("mobicore.appdata."+a,this,b),this)},a.prototype.init=function(){var a=this.container.querySelector("section.mc-active")||this.container.querySelector('section[data-route="/"]')||this.container.querySelector("section");this.activate(a)},window.addEventListener("load",b("mobicore.load.doc"),!1),{App:a}}();